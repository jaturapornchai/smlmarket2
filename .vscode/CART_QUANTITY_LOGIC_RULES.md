# üìã ‡∏Å‡∏é‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ (Cart Quantity Logic Rules)

**‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó**: 24 ‡∏°‡∏¥‡∏ñ‡∏∏‡∏ô‡∏≤‡∏¢‡∏ô 2025  
**‡πÑ‡∏ü‡∏•‡πå‡∏´‡∏•‡∏±‡∏Å**: `lib/presentation/widgets/cart_item_widget.dart`

---

## üéØ ‡∏´‡∏•‡∏±‡∏Å‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: "‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ" (Available to Order)

### ‚ö†Ô∏è **‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ "‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠" (Stock Left) ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ**
- ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞ **"‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ"** ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
- ‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ "‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠" ‡πÉ‡∏ä‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÉ‡∏ô backend logic ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô

---

## üßÆ ‡∏™‡∏π‡∏ï‡∏£‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì

### 1. **‡∏¢‡∏≠‡∏î‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (Maximum Allowed Quantity)**
```dart
final maxAllowedQuantity = qtyAvailable + currentCartQuantity;
```

### 2. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô (+1 button)**
```dart
bool _canIncrease() {
  if (widget.qtyAvailable == null) return true;
  final maxAllowedQuantity = widget.qtyAvailable! + widget.item.quantity;
  return widget.item.quantity < maxAllowedQuantity;
}
```

### 3. **‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏à‡∏≥‡∏ô‡∏ß‡∏ô (Manual Edit)**
```dart
if (widget.qtyAvailable != null) {
  final maxAllowedQuantity = widget.qtyAvailable! + widget.item.quantity;
  if (newQuantity > maxAllowedQuantity) {
    // ‡πÅ‡∏™‡∏î‡∏á error
  }
}
```

---

## üìù ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ

### 1. **‡πÅ‡∏™‡∏î‡∏á‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ (Header Display)**
```dart
Text('‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ: ${NumberFormatter.formatQuantity(widget.qtyAvailable!)} ‡∏ä‡∏¥‡πâ‡∏ô')
```

### 2. **Helper Text ‡πÉ‡∏ô Dialog ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏à‡∏≥‡∏ô‡∏ß‡∏ô**
```dart
helperText: widget.qtyAvailable != null
    ? '‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ‡∏≠‡∏µ‡∏Å: ${NumberFormatter.formatQuantity(widget.qtyAvailable!)} ‡∏ä‡∏¥‡πâ‡∏ô'
    : null,
```

### 3. **Error Message ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡∏¥‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô**
```dart
'‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ‡∏≠‡∏µ‡∏Å (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î ${NumberFormatter.formatQuantity(maxAllowedQuantity)} ‡∏ä‡∏¥‡πâ‡∏ô)'
```

### 4. **Stock Limit Dialog (‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏î + ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏Å‡∏¥‡∏ô)**
```dart
// ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠
title: Text('‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ')

// ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤
Column(
  children: [
    Text('‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏±‡πà‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ‡∏≠‡∏µ‡∏Å:'),
    Text('${NumberFormatter.formatQuantity(widget.qtyAvailable ?? 0)} ‡∏ä‡∏¥‡πâ‡∏ô'),
    Text('‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏£‡∏ß‡∏°‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤):'),
    Text('${NumberFormatter.formatQuantity(maxAllowedQuantity)} ‡∏ä‡∏¥‡πâ‡∏ô'),
  ],
)
```

---

## üö´ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥

### 1. **‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ:**
- ‚ùå "‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠" (Stock Left)
- ‚ùå "‡∏¢‡∏≠‡∏î‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠" (Remaining Stock)
- ‚ùå "Stock Available"

### 2. **‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ‡∏ï‡∏£‡∏£‡∏Å‡∏∞‡πÄ‡∏Å‡πà‡∏≤:**
```dart
// ‚ùå ‡∏ú‡∏¥‡∏î - ‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ
if (newQuantity > widget.qtyAvailable) {
  // logic ‡∏ô‡∏µ‡πâ‡∏ú‡∏¥‡∏î
}

// ‚úÖ ‡∏ñ‡∏π‡∏Å - ‡πÉ‡∏ä‡πâ‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ
final maxAllowedQuantity = widget.qtyAvailable! + widget.item.quantity;
if (newQuantity > maxAllowedQuantity) {
  // logic ‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å
}
```

### 3. **‡∏´‡πâ‡∏≤‡∏°‡∏°‡∏µ Confirmation Dialog**
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î "‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å" ‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
- ‡∏´‡πâ‡∏≤‡∏°‡∏°‡∏µ pending state ‡∏´‡∏£‡∏∑‡∏≠ confirmation dialog

---

## ‚úÖ ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

### 1. **Immediate Updates**
- ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏à‡∏∞‡∏°‡∏µ‡∏ú‡∏•‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
- ‡πÑ‡∏°‡πà‡∏°‡∏µ confirmation dialog
- ‡πÑ‡∏°‡πà‡∏°‡∏µ pending state

### 2. **Real-time Stock Updates**
- ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó stock ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÅ‡∏•‡πâ‡∏ß
- ‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏• "‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ" ‡∏à‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ï‡∏≤‡∏° stock ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠

### 3. **Proper Button States**
- ‡∏õ‡∏∏‡πà‡∏° "+" ‡∏à‡∏∞ disable ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ
- ‡∏õ‡∏∏‡πà‡∏° "-" ‡∏à‡∏∞ disable ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏õ‡πá‡∏ô 1

---

## üìö ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### ‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå: ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ A ‡∏°‡∏µ stock 10 ‡∏ä‡∏¥‡πâ‡∏ô, ‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏°‡∏µ 7 ‡∏ä‡∏¥‡πâ‡∏ô

```
‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏´‡πá‡∏ô: "‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ: 3 ‡∏ä‡∏¥‡πâ‡∏ô"
‚úÖ ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡πÑ‡∏î‡πâ: 10 ‡∏ä‡∏¥‡πâ‡∏ô (3 + 7)
‚úÖ ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° + ‡πÑ‡∏î‡πâ‡∏≠‡∏µ‡∏Å 3 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á (‡∏à‡∏≤‡∏Å 7 ‚Üí 10)
‚úÖ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 10 ‡∏ä‡∏¥‡πâ‡∏ô
```

### ‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå: ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ B ‡∏°‡∏µ stock 5 ‡∏ä‡∏¥‡πâ‡∏ô, ‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏°‡∏µ 5 ‡∏ä‡∏¥‡πâ‡∏ô

```
‚úÖ ‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÄ‡∏´‡πá‡∏ô: "‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ: 0 ‡∏ä‡∏¥‡πâ‡∏ô"
‚úÖ ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡πÑ‡∏î‡πâ: 5 ‡∏ä‡∏¥‡πâ‡∏ô (0 + 5)
‚úÖ ‡∏õ‡∏∏‡πà‡∏° + ‡∏à‡∏∞ disable
‚úÖ ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏ô‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î 5 ‡∏ä‡∏¥‡πâ‡∏ô (‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°)
```

---

## üîß Code Functions ‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç

### 1. **_canIncrease()**
```dart
bool _canIncrease() {
  if (widget.qtyAvailable == null) return true;
  final maxAllowedQuantity = widget.qtyAvailable! + widget.item.quantity;
  return widget.item.quantity < maxAllowedQuantity;
}
```

### 2. **_saveQuantity()**
```dart
void _saveQuantity() {
  final newQuantity = double.tryParse(_quantityController.text.trim());
  if (newQuantity == null || newQuantity <= 0) {
    _showErrorDialog('‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á');
    return;
  }
  
  if (widget.qtyAvailable != null) {
    final maxAllowedQuantity = widget.qtyAvailable! + widget.item.quantity;
    if (newQuantity > maxAllowedQuantity) {
      _showErrorDialog(
        '‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ‡∏≠‡∏µ‡∏Å (‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î ${NumberFormatter.formatQuantity(maxAllowedQuantity)} ‡∏ä‡∏¥‡πâ‡∏ô)',
      );
      return;
    }
  }
  
  Navigator.pop(context);
  widget.onQuantityChanged(newQuantity);
}
```

### 3. **_showStockLimitDialog()**
```dart
void _showStockLimitDialog() {
  final maxAllowedQuantity = widget.qtyAvailable != null
      ? widget.qtyAvailable! + widget.item.quantity
      : 0.0;
      
  showDialog(
    context: context,
    builder: (context) => AlertDialog(
      title: Row(
        children: [
          Icon(Icons.warning_amber, color: Colors.orange.shade600),
          const SizedBox(width: 8),
          const Text('‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ'),
        ],
      ),
      content: Column(
        mainAxisSize: MainAxisSize.min,
        crossAxisAlignment: CrossAxisAlignment.start,
        children: [
          Text('‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏±‡πà‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ‡∏≠‡∏µ‡∏Å:'),
          Text('${NumberFormatter.formatQuantity(widget.qtyAvailable ?? 0)} ‡∏ä‡∏¥‡πâ‡∏ô'),
          const SizedBox(height: 8),
          Text('‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏£‡∏ß‡∏°‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤):'),
          Text('${NumberFormatter.formatQuantity(maxAllowedQuantity)} ‡∏ä‡∏¥‡πâ‡∏ô'),
        ],
      ),
      actions: [
        TextButton(
          onPressed: () => Navigator.pop(context),
          child: const Text('‡∏ï‡∏Å‡∏•‡∏á'),
        ),
      ],
    ),
  );
}
```

---

## üß™ Test Cases ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ú‡πà‡∏≤‡∏ô

### 1. **‡∏ó‡∏î‡∏™‡∏≠‡∏ö + Button**
- [ ] ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° + ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏¢‡∏±‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ ‚Üí ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô
- [ ] ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° + ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ ‚Üí ‡πÅ‡∏™‡∏î‡∏á Stock Limit Dialog
- [ ] ‡∏õ‡∏∏‡πà‡∏° + disable ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ

### 2. **‡∏ó‡∏î‡∏™‡∏≠‡∏ö Manual Edit**
- [ ] ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï‡∏ó‡∏µ‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï ‚Üí ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à
- [ ] ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï ‚Üí ‡πÅ‡∏™‡∏î‡∏á Error Dialog
- [ ] ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏õ‡πá‡∏ô 0 ‡∏´‡∏£‡∏∑‡∏≠‡∏ï‡∏¥‡∏î‡∏•‡∏ö ‚Üí ‡πÅ‡∏™‡∏î‡∏á Error Dialog

### 3. **‡∏ó‡∏î‡∏™‡∏≠‡∏ö UI Display**
- [ ] ‡πÅ‡∏™‡∏î‡∏á "‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ" ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- [ ] ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ / ‡∏™‡∏µ‡πÅ‡∏î‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ
- [ ] Helper text ‡πÉ‡∏ô dialog ‡πÅ‡∏™‡∏î‡∏á‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

### 4. **‡∏ó‡∏î‡∏™‡∏≠‡∏ö Edge Cases**
- [ ] stock = 0, cart = 0 ‚Üí ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ
- [ ] stock = 5, cart = 5 ‚Üí ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ
- [ ] stock = 10, cart = 3 ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ‡∏≠‡∏µ‡∏Å 7 ‡∏ä‡∏¥‡πâ‡∏ô

---

## üìã Checklist ‡∏Å‡πà‡∏≠‡∏ô Deploy

### Pre-deployment Checklist:
- [ ] ‡∏ó‡∏∏‡∏Å error message ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ "‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ"
- [ ] ‡πÑ‡∏°‡πà‡∏°‡∏µ confirmation dialog
- [ ] Logic ‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÉ‡∏ä‡πâ `qtyAvailable + currentCartQuantity`
- [ ] ‡∏õ‡∏∏‡πà‡∏° + disable ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- [ ] Helper text ‡πÅ‡∏™‡∏î‡∏á‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- [ ] Error handling ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô
- [ ] Test ‡∏ó‡∏∏‡∏Å edge case ‡∏ú‡πà‡∏≤‡∏ô

---

## üîç Debug Information

### ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ ‡πÉ‡∏´‡πâ‡πÄ‡∏ä‡πá‡∏Ñ:

1. **‡∏Ñ‡πà‡∏≤ qtyAvailable ‡∏à‡∏≤‡∏Å API**
   ```dart
   print('üêõ qtyAvailable: ${widget.qtyAvailable}');
   print('üêõ currentCartQuantity: ${widget.item.quantity}');
   print('üêõ maxAllowedQuantity: ${widget.qtyAvailable! + widget.item.quantity}');
   ```

2. **‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ UI Components**
   ```dart
   print('üêõ _canIncrease(): ${_canIncrease()}');
   print('üêõ Button enabled: ${widget.qtyAvailable != null && _canIncrease()}');
   ```

3. **‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÉ‡∏ô Functions**
   ```dart
   // ‡πÉ‡∏ô _saveQuantity()
   print('üêõ newQuantity: $newQuantity');
   print('üêõ maxAllowedQuantity: $maxAllowedQuantity');
   print('üêõ isValid: ${newQuantity <= maxAllowedQuantity}');
   ```

---

## üéØ ‡∏™‡∏£‡∏∏‡∏õ Rules ‡∏´‡∏•‡∏±‡∏Å

1. **‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ "‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏±‡πà‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏î‡πâ"** ‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ
2. **‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì maxAllowed = qtyAvailable + currentCart** ‡πÄ‡∏™‡∏°‡∏≠
3. **‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏ó‡∏±‡∏ô‡∏ó‡∏µ ‡πÑ‡∏°‡πà‡∏°‡∏µ confirmation**
4. **‡πÅ‡∏™‡∏î‡∏á error ‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡πÅ‡∏•‡∏∞‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á**
5. **‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ó‡∏∏‡∏Å edge case ‡∏Å‡πà‡∏≠‡∏ô deploy**

---

**‚ö†Ô∏è ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏Å‡∏é‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï**
