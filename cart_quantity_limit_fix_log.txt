ЁЯЫая╕П **р╣Бр╕Бр╣Йр╣Др╕Вр╕Ыр╕▒р╕Нр╕лр╕▓ Quantity Limit р╣Гр╕Щр╕лр╕Щр╣Йр╕▓р╕Хр╕░р╕Бр╕гр╣Йр╕▓р╕кр╕┤р╕Щр╕Др╣Йр╕▓**
===================================================

**р╕зр╕▒р╕Щр╕Чр╕╡р╣И**: 24 р╕бр╕┤р╕Цр╕╕р╕Щр╕▓р╕вр╕Щ 2025
**р╣Ар╕зр╕ер╕▓**: 16:25 р╕Щ.

## ЁЯФН р╕Ыр╕▒р╕Нр╕лр╕▓р╕Чр╕╡р╣Ир╕Юр╕Ъ
р╣Гр╕Щр╕лр╕Щр╣Йр╕▓р╕Хр╕░р╕Бр╕гр╣Йр╕▓р╕кр╕┤р╕Щр╕Др╣Йр╕▓ р╣Ар╕бр╕╖р╣Ир╕нр╕Бр╕Фр╕Ыр╕╕р╣Ир╕б + р╣Ар╕Юр╕╖р╣Ир╕нр╣Ар╕Юр╕┤р╣Ир╕бр╕Ир╕│р╕Щр╕зр╕Щр╕кр╕┤р╕Щр╕Др╣Йр╕▓ р╕Ир╕│р╕Щр╕зр╕Щр╕кр╕╣р╕Зр╕кр╕╕р╕Фр╕Чр╕╡р╣Ир╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Фр╣Йр╕Цр╕╣р╕Бр╕Ир╕│р╕Бр╕▒р╕Фр╕Фр╣Йр╕зр╕вр╕вр╕нр╕Фр╕Др╕Зр╣Ар╕лр╕ер╕╖р╕нр╕Чр╕╡р╣Ир╕лр╕▒р╕Бр╕Хр╕░р╕Бр╕гр╣Йр╕▓р╕Хр╕▒р╕зр╣Ар╕нр╕Зр╣Бр╕ер╣Йр╕з р╕Чр╕│р╣Гр╕лр╣Йр╕ер╕╣р╕Бр╕Др╣Йр╕▓р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Юр╕┤р╣Ир╕бр╕Ир╕│р╕Щр╕зр╕Щр╣Др╕Фр╣Йр╣Ар╕Хр╣Зр╕бр╕Хр╕▓р╕бр╕кр╕Хр╣Зр╕нр╕Бр╕Чр╕╡р╣Ир╕бр╕╡р╕Ир╕гр╕┤р╕З

## тЪб р╕Хр╕▒р╕зр╕нр╕вр╣Ир╕▓р╕Зр╕Ыр╕▒р╕Нр╕лр╕▓
- р╕кр╕┤р╕Щр╕Др╣Йр╕▓ `C-TOYOTA-7198` р╕бр╕╡р╣Гр╕Щр╕Хр╕░р╕Бр╕гр╣Йр╕▓ 12 р╕Кр╕┤р╣Йр╕Щ
- р╕вр╕нр╕Фр╕Др╕Зр╣Ар╕лр╕ер╕╖р╕нр╕лр╕ер╕▒р╕Зр╕лр╕▒р╕Бр╕Хр╕░р╕Бр╕гр╣Йр╕▓ = 11.0 р╕Кр╕┤р╣Йр╕Щ  
- тЪая╕П **р╕Ыр╕▒р╕Нр╕лр╕▓р╣Ар╕Фр╕┤р╕б**: р╕ер╕╣р╕Бр╕Др╣Йр╕▓р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Фр╣Йр╕кр╕╣р╕Зр╕кр╕╕р╕Фр╣Бр╕Др╣И 11 р╕Кр╕┤р╣Йр╕Щ (р╣Др╕бр╣Ир╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Фр╣Йр╣Ар╕ер╕в!)
- тЬЕ **р╕Чр╕╡р╣Ир╕Др╕зр╕гр╕Ир╕░р╣Ар╕Ыр╣Зр╕Щ**: р╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕Др╕зр╕гр╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Фр╣Йр╕Цр╕╢р╕З 23 р╕Кр╕┤р╣Йр╕Щ (11 + 12)

## ЁЯФз р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕В

### р╣Бр╕Бр╣Йр╣Др╕Вр╣Гр╕Щ `cart_item_widget_new.dart`:

1. **р╕Ыр╕╕р╣Ир╕бр╣Ар╕Юр╕┤р╣Ир╕б** (+ button logic):
```dart
// тнР р╕кр╕│р╕лр╕гр╕▒р╕Ър╕гр╕▓р╕вр╕Бр╕▓р╕гр╣Гр╕Щр╕Хр╕░р╕Бр╕гр╣Йр╕▓: р╕вр╕нр╕Фр╕кр╕╣р╕Зр╕кр╕╕р╕Фр╕Чр╕╡р╣Ир╕кр╕▒р╣Ир╕Зр╣Др╕Фр╣Й = р╕вр╕нр╕Фр╕Др╕Зр╣Ар╕лр╕ер╕╖р╕н + р╕Ир╕│р╕Щр╕зр╕Щр╣Гр╕Щр╕Хр╕░р╕Бр╕гр╣Йр╕▓р╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ
final maxAllowedQuantity = widget.qtyAvailable != null 
    ? widget.qtyAvailable! + widget.item.quantity
    : double.infinity;

if (newQuantity <= maxAllowedQuantity) {
  widget.onQuantityChanged(newQuantity);
}
```

2. **р╕Яр╕▒р╕Зр╕Бр╣Мр╕Кр╕▒р╕Щ `_canIncrease()`**:
```dart
bool _canIncrease() {
  if (widget.qtyAvailable == null) return true;
  // тнР р╕вр╕нр╕Фр╕кр╕╣р╕Зр╕кр╕╕р╕Фр╕Чр╕╡р╣Ир╕кр╕▒р╣Ир╕Зр╣Др╕Фр╣Й = р╕вр╕нр╕Фр╕Др╕Зр╣Ар╕лр╕ер╕╖р╕н + р╕Ир╕│р╕Щр╕зр╕Щр╣Гр╕Щр╕Хр╕░р╕Бр╕гр╣Йр╕▓р╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ
  final maxAllowedQuantity = widget.qtyAvailable! + widget.item.quantity;
  return widget.item.quantity < maxAllowedQuantity;
}
```

3. **Error Dialog**:
```dart
void _showStockLimitDialog() {
  final maxAllowedQuantity = widget.qtyAvailable! + widget.item.quantity;
  // р╣Бр╕кр╕Фр╕Зр╕Вр╣Йр╕нр╕Др╕зр╕▓р╕бр╕Чр╕╡р╣Ир╕Кр╕▒р╕Фр╣Ар╕Ир╕Щр╕зр╣Ир╕▓р╕кр╕▒р╣Ир╕Зр╣Др╕Фр╣Йр╕кр╕╣р╕Зр╕кр╕╕р╕Фр╣Ар╕Чр╣Ир╕▓р╣Др╕лр╕гр╣И
}
```

## ЁЯУК р╕Ьр╕ер╕ер╕▒р╕Юр╕Шр╣Мр╕лр╕ер╕▒р╕Зр╣Бр╕Бр╣Йр╣Др╕В

### р╕кр╕Цр╕▓р╕Щр╕░р╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ:
- тЬЕ р╣Бр╕нр╕Ыр╕гр╕▒р╕Щр╕кр╕│р╣Ар╕гр╣Зр╕И
- тЬЕ `C-TOYOTA-7198`: 12 р╕Кр╕┤р╣Йр╕Щр╣Гр╕Щр╕Хр╕░р╕Бр╕гр╣Йр╕▓, р╕вр╕нр╕Фр╕Др╕Зр╣Ар╕лр╕ер╕╖р╕н 11.0 р╕Кр╕┤р╣Йр╕Щ
- тЬЕ **р╕вр╕нр╕Фр╕кр╕╣р╕Зр╕кр╕╕р╕Фр╕Чр╕╡р╣Ир╕кр╕▒р╣Ир╕Зр╣Др╕Фр╣Й**: 11.0 + 12 = **23 р╕Кр╕┤р╣Йр╕Щ**

### р╕Ыр╕гр╕░р╣Вр╕вр╕Кр╕Щр╣М:
тЬЕ **р╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Юр╕┤р╣Ир╕бр╕Ир╕│р╕Щр╕зр╕Щр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Др╕Фр╣Йр╣Ар╕Хр╣Зр╕бр╕Хр╕▓р╕бр╕кр╕Хр╣Зр╕нр╕Бр╕Чр╕╡р╣Ир╕бр╕╡**
тЬЕ **р╣Др╕бр╣Ир╕бр╕╡р╕Вр╣Йр╕нр╕Ир╕│р╕Бр╕▒р╕Фр╕Чр╕╡р╣Ир╕Ьр╕┤р╕Фр╕Юр╕ер╕▓р╕Фр╕нр╕╡р╕Бр╕Хр╣Ир╕нр╣Др╕Ы**
тЬЕ **р╣Бр╕Хр╣Ир╕ер╕░р╕гр╕▓р╕вр╕Бр╕▓р╕гр╣Гр╕Щр╕Хр╕░р╕Бр╕гр╣Йр╕▓р╕Др╕│р╕Щр╕зр╕У limit р╣Бр╕вр╕Бр╕нр╕┤р╕кр╕гр╕░р╕Бр╕▒р╕Щ**
тЬЕ **р╕вр╕▒р╕Зр╕Др╕Зр╕Ыр╣Йр╕нр╕Зр╕Бр╕▒р╕Щр╕Бр╕▓р╕гр╕кр╕▒р╣Ир╕Зр╣Ар╕Бр╕┤р╕Щр╕кр╕Хр╣Зр╕нр╕Бр╕Ир╕гр╕┤р╕З**

## ЁЯзк р╕зр╕┤р╕Шр╕╡р╕Чр╕Фр╕кр╕нр╕Ъ

1. **р╣Ар╕Вр╣Йр╕▓р╣Др╕Ыр╕Фр╕╣р╕лр╕Щр╣Йр╕▓р╕Хр╕░р╕Бр╕гр╣Йр╕▓р╕кр╕┤р╕Щр╕Др╣Йр╕▓**
2. **р╕Бр╕Фр╕Ыр╕╕р╣Ир╕б + р╕Вр╕нр╕Зр╕кр╕┤р╕Щр╕Др╣Йр╕▓ `C-TOYOTA-7198`**
3. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╣Ар╕Юр╕┤р╣Ир╕бр╣Др╕Фр╣Йр╕Цр╕╢р╕З 23 р╕Кр╕┤р╣Йр╕Щ** (р╣Др╕бр╣Ир╕Хр╕┤р╕Фр╕Чр╕╡р╣И 11 р╕Кр╕┤р╣Йр╕Щр╣Ар╕лр╕бр╕╖р╕нр╕Щр╣Ар╕Фр╕┤р╕б)
4. **р╕Чр╕Фр╕кр╕нр╕Ър╕Бр╕▒р╕Ър╕кр╕┤р╕Щр╕Др╣Йр╕▓р╕нр╕╖р╣Ир╕Щр╣Ж р╕Чр╕╡р╣Ир╕бр╕╡р╣Гр╕Щр╕Хр╕░р╕Бр╕гр╣Йр╕▓**

## тЬЕ р╣Ар╕кр╕гр╣Зр╕Ир╕кр╕┤р╣Йр╕Щ

р╕Хр╕нр╕Щр╕Щр╕╡р╣Йр╕ер╕╣р╕Бр╕Др╣Йр╕▓р╕кр╕▓р╕бр╕▓р╕гр╕Цр╣Ар╕Юр╕┤р╣Ир╕бр╕Ир╕│р╕Щр╕зр╕Щр╕кр╕┤р╕Щр╕Др╣Йр╕▓р╣Др╕Фр╣Йр╣Ар╕Хр╣Зр╕бр╕Чр╕╡р╣Ир╣Бр╕ер╣Йр╕з! ЁЯЪА
